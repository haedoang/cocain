<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.cocain.repository.mapper.QnaMapper">
	<resultMap id="QnaMap" type="Qna">
		<result column="no" property="no" />
		<result column="writer" property="writer" />
		<result column="title" property="title" />
		<result column="content" property="content" />
		<result column="reg_date" property="regDate" />
		<result column="view_cnt" property="viewCnt" />
		<result column="qna_status" property="qnaStatus" />
	</resultMap>

	<select id="listqna" resultMap="QnaMap">
		select *
		from tb_qna
		order by no desc
	</select>
	
	<select id="listqnaCount" resultType="int">
		select count(*)
		from tb_qna
	</select>

	<insert id="writeqna" useGeneratedKeys="true" keyProperty="no" parameterType="Qna">
		insert into tb_qna (title,writer,content) 
		values (#{title}, #{writer}, #{content})
	</insert>
	
	<select id="detailqna" parameterType="int" resultMap="QnaMap">
    	select *
    	  from tb_qna
    	 where no = #{no}
    </select>

	<delete id="deleteqna" parameterType="int">
		delete from tb_qna
		 where no = #{no}
	</delete>
	
	<update id="updateqna" parameterType="Qna">
	update tb_qna 
	    set title = #{title},
			content = #{content}
	  where no = #{no}
</update>
</mapper>